# liveapp

全案:
http://jojoplay.net/liveapp/需求详细说明文档.docx

第2阶段
需求会议:
http://jojoplay.net/liveapp/meeting_01.mp4
http://jojoplay.net/liveapp/meeting_02.mp4

验收标准
http://jojoplay.net/liveapp/第2阶段.xlsx




“剪輯”功能：剪輯、播放視頻

操作邏輯描述：

（默認錨點向前10S，【系統閃存區】2分鐘循環視頻）

1.點擊剪輯按鈕後，錨點為點擊的時間節點，入點向前10S，隨著時間視頻向後推移，

點擊停止（出點），此時出點前2分鐘視頻會自動存儲到【臨時儲存區】。

此時入點可操作拖動向前，最多可拖動至出點前2分鐘。


1.1 剪輯視頻時，未點擊停止（出點時），顯示剩餘視頻倒計時。

2.若不手動點擊停止（出點）則係統自動從錨點開始向後加載1分鐘，此時【臨時存儲區】視頻為自動打的出點前2分鐘。

3.點擊保存，存儲出點到入點間的視頻到【永久存儲區】。

4.可以從【永久存儲區】選擇視頻，再次編輯，編輯後視頻名稱為帶出原來的，可以手動修改，如果不修改，則提示是否覆蓋原始視頻，
【是】直接覆蓋，【否】返回名稱修改頁修改視頻名（即同一場直播內的視頻不允許重名）。

4.1 選擇播放視頻時，剪輯時間軸整條變成待播放視頻，默認黃框區域為整個視頻的時長，
幀預覽定位在視頻開始點（即黃框左側），可以手動修改視頻開始點和結束點的位置（修改範圍不超過視頻總長）。



播放視頻（查看效果：點擊001視頻）

儲存在【永久儲存區】中的視頻，長度不受【循環存儲的視頻長度，也就是上述提到的2分鐘】限制，比如預存片就會超過2分鐘。

播放視頻時：

1. 大視頻畫面顯示當前即將播放視頻，右上角小視頻畫面顯示當前直播的畫面（PGM），幀預覽定在視頻開始點（黃框左側）；

2. 點擊【播放】按鈕，視頻輸出為直播PGM，右上角攝像頭拍攝的畫面變成【PVW】；

3. 同時顯示出當前播放視頻的剩餘時間，到時間後，右上角的攝像頭畫面（PVW）自動切換到大畫面，繼續輸出攝像頭畫面為PGM；

4. 若在播放的視頻倒計時結束前，需要換回攝像頭畫面，點擊【切回直播】手動切換攝像頭畫面為PGM。

5. 【選擇】按鈕：開啟選擇狀態後，可以勾選1個或多個視頻，然後點擊【上傳】按鈕，後台會將所選視頻上傳到指定雲服務器，包含視頻名稱、時長、視頻結束時間、剪輯時間。
